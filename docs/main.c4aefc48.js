parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"epB2":[function(require,module,exports) {
function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(i)}var i={objectAssign:function(t,i){for(var n=Object.keys(i),e=0;e<n.length;e++)t[n[e]]=i[n[e]];return t},isHTMLElement:function(i){return"object"===t(i)&&"number"==typeof i.nodeType&&1===i.nodeType&&i instanceof HTMLElement},cubicBezier:function(t,i,n,e,o){return Math.pow(1-t,3)*i+3*t*Math.pow(1-t,2)*n+3*t*t*(1-t)*e+t*t*t*o},hypotenuse:function(t,i){var n=Math.max(Math.abs(t),Math.abs(i));0===n&&(n=1);var e=Math.min(Math.abs(t),Math.abs(i))/n;return n*Math.sqrt(1+e*e)},lerp:function(t,i,n){return(1-n)*t+n*i},modulate:function(t,i,n){"number"==typeof i&&(i=[0,i]),"number"==typeof n&&(n=[0,n]);var e=(t-i[0])/(i[1]-i[0]);return n[1]>n[0]?e*(n[1]-n[0])+n[0]:n[0]-e*(n[0]-n[1])},getEuclideanDistance:function(t,i){return t===i?0:Math.sqrt(Math.abs((t-i)*(i-t)))},cycleNumber:function(t,n){"number"==typeof n&&(n=[0,n]);var e=Math.max(n[0],n[1]),o=Math.min(n[0],n[1]);if(0===e&&0===o)return 0;var s,a=i.getEuclideanDistance(o,e);return t>e?(s=i.getEuclideanDistance(t,e)%a+o)===o?e:s:t<o?(s=e-i.getEuclideanDistance(t,o)%a)===e?o:s:t},randomChoice:function(t){return t[i.random(t.length-1,!0)]},random:function(t,n,e){if(void 0===n&&(n=!1),void 0===e&&(e=2),"number"==typeof t&&(t=[0,t]),0===t[0]&&1===t[1])return!0===n?Math.random()>.5?1:0:parseFloat(Math.random().toFixed(e));var o=i.modulate(Math.random(),1,t);return parseInt(o.toFixed(0),10)}},n=function(t,i){this.init(t,i)};n.prototype={init:function(t,i){this.x="number"==typeof t?t:0,this.y="number"==typeof i?i:0},copy:function(t){return this.x=t.x,this.y=t.y,this},clone:function(){return new n(this.x,this.y)},add:function(i){return"object"===t(i)?(this.x+=i.x,this.y+=i.y):"number"==typeof i&&(this.x+=i,this.y+=i),this},subtract:function(i){return"object"===t(i)?(this.x-=i.x,this.y-=i.y):"number"==typeof i&&(this.x-=i,this.y-=i),this},multiply:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return 0===t&&(t=1),this.x/=t,this.y/=t,this},limit:function(t){return this.magnitude()>t&&this.normalize().multiply(t,t),this},magnitude:function(){return i.hypotenuse(this.x,this.y)},normalize:function(){var t=Math.abs(this.magnitude());return t=0===t?1:t,this.x/=t,this.y/=t,this},applyCubicBezier:function(t,n,e,o,s){this.x=i.cubicBezier(t,n.x,e.x,o.x,s.x),this.y=i.cubicBezier(t,n.y,e.y,o.y,s.y)},getAngle:function(){var t=Math.acos(this.x/this.magnitude());return this.y<0&&(t=Math.PI+(Math.PI-t)),t},getAngleTo:function(t){return n.subtract(t,this).getAngle()},rotateBy:function(t){var i=this.getAngle()+t,n=this.magnitude();return this.x=Math.cos(i)*n,this.y=Math.sin(i)*n,this},rotateTo:function(t){t=i.cycleNumber(t,2*Math.PI);var n=this.magnitude();return this.x=Math.cos(t)*n,this.y=Math.sin(t)*n,this},getDistanceTo:function(t){return n.subtract(this,t).magnitude()}},n.subtract=function(t,i){return(new n).copy(t).subtract(i.x,i.y)};var e={duration:1e3,delay:0,timingFunction:function(t){return t},onTick:function(){},onStart:function(){},onComplete:function(){}},o=function(t){this.init(t)};o.prototype={init:function(t){this.config=i.objectAssign({},e),this.setConfig(t),this.rafID,this.timeoutID,this.isActive=!1,this.isAnimating=!1,this.timeStart=0,this.timeEnd=0,this.progress=0},setConfig:function(n){"object"===t(n)&&i.objectAssign(this.config,n)},updateProgress:function(){if("number"==typeof this.config.duration){var t=Date.now();this.progress=(t-this.timeStart)/this.config.duration,this.progress>1&&(this.progress=1)}else this.progress=0},loop:function(){!0===this.isAnimating&&(this.updateProgress(),this.config.onTick(this.config.timingFunction(this.progress)),this.progress<1?this.continueLoop():this.stop())},continueLoop:function(){!0===this.isAnimating&&(window.cancelAnimationFrame(this.rafID),this.rafID=window.requestAnimationFrame(this.loop.bind(this)))},play:function(){!1===this.isActive&&(this.isActive=!0,this.timeoutID=setTimeout(function(){this.isAnimating=!0,this.timeStart=Date.now(),this.config.onStart(this),this.continueLoop()}.bind(this),this.config.delay))},stop:function(){!0===this.isActive&&(window.cancelAnimationFrame(this.rafID),clearTimeout(this.timeoutID),this.isAnimating=!1,this.isActive=!1,this.timeEnd=Date.now(),this.progress=0,this.config.onComplete(this))}};var s={colorChoices:["red","green","blue","white"],radius:20,mass:1,life:100,startPosition:new n,startVelocity:new n,frictionCoefficient:0},a=function(t){this.init(t)};a.prototype={init:function(t){this.config=i.objectAssign({},s),this.setConfig(t),this.isAlive=!0,this.position=(new n).copy(this.config.startPosition),this.velocity=(new n).copy(this.config.startVelocity),this.acceleration=new n},setConfig:function(n){"object"===t(n)&&i.objectAssign(this.config,n),this.life=this.config.life},applyFriction:function(t){var i="number"==typeof t?t:this.config.frictionCoefficient;if(0!==i){var e=(new n).copy(this.velocity).normalize().multiply(-i);this.applyForce(e)}},applyForce:function(t){return t.divide(this.config.mass),this.acceleration.add(t),this},update:function(){return this.life--,this.life<=0&&(this.isAlive=!1),this.velocity.add(this.acceleration).limit(this.config.maximumSpeed),this.position.add(this.velocity),this.acceleration.multiply(0),this},draw:function(t){t.beginPath(),t.arc(this.position.x,this.position.y,this.config.radius,0,2*Math.PI),t.fillStyle=this.config.color,t.fill()}};var c={parentElement:null,resolutionMultiplier:1,zIndex:0,delay:0,startPosition:new n,angle:Math.PI/4,blastArc:Math.PI/6,numberOfConfetti:200,onStart:function(){},onFire:function(){},onComplete:function(){}},r=function(t){this.init(t)};r.prototype={init:function(t){this.config=i.objectAssign({},c),this.setConfig(t),this.isActive=!1,this.confetti,this.animation,this.updateCount=0},setConfig:function(n){"object"===t(n)&&i.objectAssign(this.config,n),this.config.numberOfConfetti<0&&(this.config.numberOfConfetti=0),this.config.resolutionMultiplier<1&&(this.config.resolutionMultiplier=1),this.config.delay<0&&(this.config.delay=0)},fire:function(){this.setup(),this.begin()},setup:function(t){!1===this.isActive&&(this.isActive=!0,this.populate(),this.createCanvas(t))},populate:function(){this.confetti=[];for(var t=0;t<this.config.numberOfConfetti;t++){var i=this.generateConfettiConfig();this.confetti.push(new a(i))}},generateConfettiConfig:function(){return{color:i.randomChoice(this.config.colorChoices),life:i.modulate(Math.random(),1,[140,200]),startPosition:(new n).copy(this.config.startPosition),startVelocity:new n(1,1).normalize().multiply(1).rotateTo(this.config.angle).rotateBy(i.modulate(Math.random(),1,[-this.config.blastArc/2,this.config.blastArc/2])).multiply(i.modulate(Math.random(),1,[2,40])),mass:1,radius:i.modulate(Math.random(),1,[2,6])}},createCanvas:function(){void 0===this.canvasElement&&(this.canvasElement=document.createElement("CANVAS"),this.canvasElement.style.position="fixed",this.canvasElement.style.zIndex=this.config.zIndex.toString(),this.canvasElement.style.left="0px",this.canvasElement.style.top="0px",this.updateCanvasDimension(),this.context=this.canvasElement.getContext("2d"),!0===i.isHTMLElement(this.config.parentElement)&&this.config.parentElement.appendChild(this.canvasElement))},updateCanvasDimension:function(){this.canvasElement.style.width=window.innerWidth+"px",this.canvasElement.style.height=window.innerHeight+"px",this.canvasElement.width=window.innerWidth*this.config.resolutionMultiplier,this.canvasElement.height=window.innerHeight*this.config.resolutionMultiplier},begin:function(){!0===this.isActive&&(this.startAnimation(),0===this.confetti.length&&this.end())},startAnimation:function(){console.log("confettiCannon: startAnimation"),this.updateCount=0,this.config.onStart(),this.animation=new o({delay:this.config.delay,duration:"infinite",onStart:function(){this.config.onFire()}.bind(this),onTick:this.update.bind(this)}),this.animation.play()},update:function(){this.clearCanvas();this.config.resolutionMultiplier;for(var t=0,e=new n(0,this.config.gravity),o=0;o<this.confetti.length;o++)if(!0===this.confetti[o].isAlive){var s=i.modulate(o,this.confetti.length,[0,10]);this.confetti[o].applyForce(new n(Math.cos(this.updateCount/(15-s)+11*o),0)),this.confetti[o].applyForce(e),this.confetti[o].applyFriction(.9),this.confetti[o].update(),this.confetti[o].draw(this.context)}else t++;this.updateCount++,t===this.confetti.length&&this.end()},clearCanvas:function(){this.context.clearRect(0,0,this.canvasElement.width,this.canvasElement.height)},end:function(){console.log("confettiCannon: end"),this.clearCanvas(),this.animation.stop(),this.canvasElement.remove(),this.canvasElement=void 0,this.confetti=[],this.isActive=!1,this.config.onComplete()}};var h=function(t){var i=t.getBoundingClientRect();return new n(i.left+i.width/2,i.top+i.height/2)},u=document.querySelector(".container"),f=document.querySelector(".triggerButton"),l=new r({parentElement:u,startPosition:h(f),colorChoices:["#80EAFF","#FF0055","#00FFAA","#FFFF00"],numberOfConfetti:500,angle:Math.PI+Math.PI/2,blastArc:Math.PI/2,gravity:1,delay:200,onStart:function(){f.classList.add("triggerButton--disabled"),f.textContent="Steady..."},onFire:function(){f.textContent="Reloading..."},onComplete:function(){f.classList.remove("triggerButton--disabled"),f.textContent="Fire!"}});f.addEventListener("click",function(){l.fire()}.bind(this));
},{}]},{},["epB2"], null)
//# sourceMappingURL=main.c4aefc48.js.map