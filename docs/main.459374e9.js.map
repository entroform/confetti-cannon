{"version":3,"sources":["javascripts/util.js","javascripts/vector2.js","javascripts/animation.js","javascripts/noise.js","javascripts/confetti.js","javascripts/confettiCannon.js","javascripts/confettiCannonIndicator.js","javascripts/pointerDragEventManager.js","javascripts/controls/slider.js","javascripts/main.js"],"names":["Util","objectAssign","object1","object2","keys","Object","i","length","isHTMLElement","element","nodeType","HTMLElement","cubicBezier","t","p1","cp1","cp2","p2","Math","pow","constrain","value","range","max","min","hypotenuse","x","y","abs","n","sqrt","lerp","from","to","modulate","number","percent","result","getEuclideanDistance","a","b","cycleNumber","da","c","randomChoice","array","random","whole","fixed","floor","parseFloat","toFixed","parseInt","hasAncestor","ancestor","currentEl","nodeName","parentElement","Vector2","init","prototype","equals","clone","add","by","subtract","multiply","divide","limit","magnitude","normalize","mag","applyCubicBezier","getAngle","angle","acos","PI","getAngleTo","rotateBy","cos","sin","rotateTo","getDistanceTo","polarTranslateTo","polarTranslateBy","v","isPoint","p","Animation","ANIMATION_DEFAULT_CONFIG","duration","delay","timingFunction","onTick","beforeStart","onStart","onComplete","config","setConfig","rafID","timeoutID","isActive","isAnimating","timeStart","timeEnd","progress","updateProgress","now","Date","loop","continueLoop","stop","window","cancelAnimationFrame","requestAnimationFrame","bind","play","setTimeout","clearTimeout","SimplexNoise","r","undefined","grad3","perm","simplex","dot","g","noise","xin","yin","n0","i1","j1","s","j","G2","x0","y0","x1","y1","x2","y2","ii","jj","gi0","gi1","gi2","t0","t1","t2","Confetti","CONFETTI_DEFAULT_CONFIG","color","height","width","mass","life","startPosition","startVelocity","frictionCoefficient","dragCoefficient","simplexZoomMultiplier","simplexXOffset","simplexYOffset","isAlive","position","velocity","acceleration","angleVelocity","angleAcceleration","applyFriction","friction","force","applyForce","applyDrag","speed","dragMagnitude","applyLateralEntropy","zoom","lateralOscillation","update","maximumSpeed","draw","context","m","w","h","save","translate","rotate","transform","beginPath","moveTo","lineTo","fillStyle","fill","restore","die","ConfettiCannon","CONFETTI_CANNON_DEFAULT_CONFIG","resolutionMultiplier","zIndex","prepareCanvas","canvas","colorChoices","widthRange","heightRange","lifeSpanRange","firePosition","updateFirePosition","numberOfConfetti","blastArc","powerRange","gravity","simplexZoomMultiplierRange","simplexOffsetMultiplier","beforeFire","onFire","confetti","animation","updateCount","fire","setup","begin","callback","populate","createCanvas","generateConfettiConfig","push","canvasElement","document","createElement","style","toString","left","top","setCanvasDimensionToWindow","getContext","appendChild","setCanvasDimension","innerWidth","innerHeight","getElementCenterVectorRelativeToCanvas","canvasRect","getBoundingClientRect","elementRect","startAnimation","end","clearCanvas","deadConfetti","clearRect","remove","ConfettiCannonIndicator","CONFETTI_CANNON_INDICATOR_DEFAULT_CONFIG","arc","power","getCannonPosition","listen","updateCanvas","display","offsetWidth","offsetHeight","target","right","gradient","createLinearGradient","addColorStop","strokeStyle","stroke","gradient0","gradient1","addEventListener","PointerDragEventManager","POINTER_DRAG_EVENT_MANAGER_DEFAULT_CONFIG","keepHistory","condition","onEvent","onDrag","onEnd","onCancel","isTouch","touchIdentifier","history","createMousePointerDragEvent","type","event","clientX","clientY","time","eventHandlerMouseDown","console","log","pointerEvent","eventHandlerMouseMove","eventHandlerMouseUp","eventHandlerMouseLeave","createTouchPointerDragEvent","touch","identifier","eventHandlerTouchStart","changedTouches","eventHandlerTouchMove","Array","forEach","eventHandlerTouchEnd","eventHandlerTouchCancel","body","SliderControl","SLIDER_CONTROL_DEFAULT_CONFIG","trackElement","knobElement","valueElement","listenToKnobOnly","onInit","onActivate","onDeactivate","onUpdate","moveKnob","knob","knobLeftOffset","pointerDragEventManager","_value","assign","setValue","trackRect","knobRect","getValue","eventHandlerStart","eventHandlerDrag","eventHandlerEnd","preventDefault","getElementCenterVector","rect","containerElement","querySelector","triggerElement","confettiCannon","classList","textContent","confettiCannonIndicator","sliderControlElementAngle","getElementById","sc_angle","slider","String","fromCharCode","sliderBlastArcControlElement","sc_blastArc","sliderMaxPowerControlElement","sc_maxPower","sliderNumberOfConfettiControlElement","sc_numberOfConfetti","sliderGravityControlElement","sc_gravity","updateSliders","controlsIsOpen","controlsElement","jsControlsOpenElement","jsControlsCloseElement","closeControlsElement","keyCode"],"mappings":"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","file":"main.459374e9.js","sourceRoot":"../source","sourcesContent":["var Util = {\n  objectAssign: function (object1, object2) {\n    var keys = Object.keys(object2);\n    for (var i = 0; i < keys.length; i++)\n      object1[keys[i]] = object2[keys[i]];\n    return object1;\n  },\n  isHTMLElement: function (element) {\n    return (\n      typeof element === 'object' &&\n      typeof element.nodeType === 'number' &&\n      element.nodeType === 1 &&\n      element instanceof HTMLElement\n    );\n  },\n  cubicBezier: function (t, p1, cp1, cp2, p2) {\n    return Math.pow(1 - t, 3) * p1 + 3 * t * Math.pow(1 - t, 2) * cp1 + 3 * t * t * (1 - t) * cp2 + t * t * t * p2;\n  },\n  constrain(value, range) {\n    if (typeof range === 'number') range = [0, range];\n\n    var max = Math.max(range[0], range[1]);\n    var min = Math.min(range[0], range[1]);\n\n    if (value >= max) return max;\n    else if (value <= min) return min;\n\n    return value;\n  },\n  hypotenuse: function (x, y) {\n    var max = Math.max(Math.abs(x), Math.abs(y));\n    if (max === 0) max = 1;\n    var min = Math.min(Math.abs(x), Math.abs(y));\n    var n = min / max;\n    return max * Math.sqrt(1 + n * n);\n  },\n  lerp: function (from, to, t) {\n    return (1 - t) * from + t * to;\n  },\n  modulate: function (number, from, to) {\n    if (typeof from === 'number') from = [0, from];\n    if (typeof to === 'number') to = [0, to];\n    var percent = (number - from[0]) / (from[1] - from[0]);\n    var result;\n    if (to[1] > to[0])\n      result = percent * (to[1] - to[0]) + to[0];\n    else\n      result = to[0] - (percent * (to[0] - to[1]));\n    return result;\n  },\n  getEuclideanDistance: function (a, b) {\n    if (a === b) return 0;\n    return Math.sqrt(Math.abs((a - b) * (b - a)));\n  },\n  cycleNumber: function (number, range) {\n    if (typeof range === 'number') range = [0, range];\n    var max = Math.max(range[0], range[1]);\n    var min = Math.min(range[0], range[1]);\n    if (max === 0 && min === 0) return 0;\n    var da = Util.getEuclideanDistance(min, max);\n    var db, c;\n    if (number > max) {\n      db = Util.getEuclideanDistance(number, max);\n      c = db % da + min;\n      return c === min ? max : c;\n    } else if (number < min) {\n      db = Util.getEuclideanDistance(number, min);\n      c = max - db % da;\n      return c === max ? min : c;\n    }\n    return number;\n  },\n  randomChoice: function (array) {\n    var index = Util.random(array.length - 1, true);\n    return array[index];\n  },\n  random: function (range, whole, fixed) {\n    if (typeof whole === 'undefined') whole = false;\n    if (typeof fixed === 'undefined') fixed = 2;\n    if (typeof range === 'number') range = [0, range];\n    if (range[0] === 0 && range[1] === 1) {\n      if (whole === true)\n        return Math.floor(Math.random() * 2);\n      else\n        return parseFloat(Math.random().toFixed(fixed));\n    } else {\n      var number = this.modulate(Math.random(), 1, range, false);\n      return parseInt(number.toFixed(0), 10);\n    }\n  },\n  hasAncestor(element, ancestor) {\n    if (element === null) return false;\n    let currentEl = element;\n    while (currentEl !== null && currentEl.nodeName !== 'HTML') {\n      currentEl = currentEl;\n      if (currentEl !== null) {\n        if (currentEl === ancestor) return true;\n        currentEl = currentEl.parentElement;\n      }\n    }\n    return false;\n  },\n};\n\nexport default Util;","import Util from './util';\n\nvar Vector2 = function (x, y) {\n  this.init(x, y);\n};\n\nVector2.prototype = {\n  init: function (x, y) {\n    this.x = (typeof x === 'number') ? x : 0;\n    this.y = (typeof y === 'number') ? y : 0;\n  },\n  equals: function (a, b) {\n    if (typeof a === 'object' && typeof a.x === 'number' && typeof a.y === 'number') {\n      this.x = a.x;\n      this.y = a.y;\n    } else if (typeof a === 'number' && typeof b === 'number') {\n      this.x = a;\n      this.y = b;\n    }\n    return this;\n  },\n  clone: function () {\n    return new Vector2(this.x, this.y);\n  },\n  add: function (by) {\n    if (typeof by === 'object' && typeof by.x === 'number' && typeof by.y === 'number') {\n      this.x += by.x;\n      this.y += by.y;\n    } else if (typeof by === 'number') {\n      this.x += by;\n      this.y += by;\n    }\n    return this;\n  },\n  subtract: function (by) {\n    if (typeof by === 'object' && typeof by.x === 'number' && typeof by.y === 'number') {\n      this.x -= by.x;\n      this.y -= by.y;\n    } else if (typeof by === 'number') {\n      this.x -= by;\n      this.y -= by;\n    }\n    return this;\n  },\n  multiply: function (by) {\n    if (typeof by === 'number') {\n      this.x *= by;\n      this.y *= by;\n    }\n    return this;\n  },\n  divide: function (by) {\n    if (typeof by === 'number') {\n      if (by === 0) by = 1;\n      this.x /= by;\n      this.y /= by;\n    }\n    return this;\n  },\n  limit: function (by) {\n    if (this.magnitude() > by)\n      this.normalize().multiply(by, by);\n    return this;\n  },\n  magnitude: function () {\n    return Util.hypotenuse(this.x, this.y);\n  },\n  normalize: function () {\n    var mag = Math.abs(this.magnitude());\n    mag = mag === 0 ? 1 : mag;\n    this.x /= mag;\n    this.y /= mag;\n    return this;\n  },\n  applyCubicBezier: function (t, p1, cp1, cp2, p2) {\n    this.x = Util.cubicBezier(t, p1.x, cp1.x, cp2.x, p2.x);\n    this.y = Util.cubicBezier(t, p1.y, cp1.y, cp2.y, p2.y);\n  },\n  getAngle: function () {\n    var angle = Math.acos(this.x / this.magnitude());\n    if (this.y < 0) angle = Math.PI + (Math.PI - angle);\n    return angle;\n  },\n  getAngleTo: function (to) {\n    return Vector2.subtract(to, this).getAngle();\n  },\n  rotateBy: function (by) {\n    var angle = this.getAngle() + by;\n    var magnitude = this.magnitude();\n    this.x = Math.cos(angle) * magnitude;\n    this.y = Math.sin(angle) * magnitude;\n    return this;\n  },\n  rotateTo: function (angle) {\n    var angle = Util.cycleNumber(angle, Math.PI * 2);\n    var magnitude = this.magnitude();\n    this.x = Math.cos(angle) * magnitude;\n    this.y = Math.sin(angle) * magnitude;\n    return this;\n  },\n  getDistanceTo: function (to) {\n    return Vector2.subtract(this, to).magnitude();\n  },\n  // TODO get this to work properly.\n  polarTranslateTo: function (angle, to) {\n    \n  },\n  polarTranslateBy: function (angle, by) {\n\n  },\n};\n\nVector2.clone = function (v) {\n  return new Vector2().equals(v);\n}\n\nVector2.isPoint = function (p) {\n  return (typeof p === 'object' && typeof p.x === 'number' && typeof p.y === 'number');\n}\n\nVector2.add = function (a, b) {\n  return a.clone().subtract(b);\n}\n\nVector2.subtract = function (a, b) {\n  return a.clone().subtract(b);\n}\n\nVector2.multiply = function (v, by) {\n  return v.clone().multiply(by);\n}\n\nVector2.divide = function (v, by) {\n  if (by === 0) by = 1;\n  return v.clone().divide(by);\n}\n\nexport default Vector2;\n","import Util from './util';\n\nvar ANIMATION_DEFAULT_CONFIG = {\n  // Animation duration is in ms.\n  // You can also set it to 'forever'\n  // if you want it to run indefinitely\n  // until stop() is called.\n  duration: 1000,\n  delay: 0,\n  timingFunction: function (t) {\n    return t\n  },\n\n  // Hooks.\n  onTick: function () {},\n  beforeStart: function () {},\n  onStart: function () {},\n  onComplete: function () {},\n};\n\nvar Animation = function (config) {\n  this.init(config);\n};\n\nAnimation.prototype = {\n  init: function (config) {\n    this.config = Util.objectAssign({}, ANIMATION_DEFAULT_CONFIG);\n    this.setConfig(config);\n\n    this.rafID;\n    this.timeoutID;\n\n    this.isActive = false;\n    this.isAnimating = false;\n\n    this.timeStart = 0;\n    this.timeEnd = 0;\n\n    this.progress = 0;\n  },\n  setConfig: function (config) {\n    if (typeof config === 'object') Util.objectAssign(this.config, config);\n  },\n  updateProgress: function () {\n    if (typeof this.config.duration === 'number') {\n      var now = Date.now();\n      this.progress = (now - this.timeStart) / this.config.duration;\n      if (this.progress > 1) this.progress = 1;\n    } else if (this.config.duration === 'forever') {\n      this.progress = 0;\n    } else {\n      this.progress = 1;\n    }\n  },\n  loop: function () {\n    if (this.isAnimating === true) {\n      this.updateProgress();\n      this.config.onTick(this.config.timingFunction(this.progress));\n      if (this.progress < 1) {\n        this.continueLoop();\n      } else {\n        this.stop();\n      }\n    }\n  },\n  continueLoop: function () {\n    if (this.isAnimating === true) {\n      window.cancelAnimationFrame(this.rafID);\n      this.rafID = window.requestAnimationFrame(this.loop.bind(this));\n    }\n  },\n  play: function () {\n    if (this.isActive === false) {\n      this.isActive = true;\n      this.config.beforeStart(this);\n      this.timeoutID = setTimeout(function () {\n        this.isAnimating = true;\n        this.timeStart = Date.now();\n        this.config.onStart(this);\n        this.continueLoop();\n      }.bind(this), this.config.delay);\n    }\n  },\n  stop: function () {\n    if (this.isActive === true) {\n      window.cancelAnimationFrame(this.rafID);\n      clearTimeout(this.timeoutID);\n      this.timeEnd = Date.now();\n      this.progress = 0;\n      this.isAnimating = false;\n      this.isActive = false;\n      this.config.onComplete(this);\n    }\n  },\n}\n\nexport default Animation;","// Ported from Stefan Gustavson's java implementation\n// http://staffwww.itn.liu.se/~stegu/simplexnoise/simplexnoise.pdf\n// Read Stefan's excellent paper for details on how this code works.\n//\n// Sean McCullough banksean@gmail.com\n\n/**\n * You can pass in a random number generator object if you like.\n * It is assumed to have a random() method.\n */\nvar SimplexNoise = function (r) {\n  if (r == undefined) r = Math;\n  this.grad3 = [\n    [1, 1, 0],\n    [-1, 1, 0],\n    [1, -1, 0],\n    [-1, -1, 0],\n    [1, 0, 1],\n    [-1, 0, 1],\n    [1, 0, -1],\n    [-1, 0, -1],\n    [0, 1, 1],\n    [0, -1, 1],\n    [0, 1, -1],\n    [0, -1, -1]\n  ];\n  this.p = [];\n  for (var i = 0; i < 256; i++) {\n    this.p[i] = Math.floor(r.random() * 256);\n  }\n  // To remove the need for index wrapping, double the permutation table length\n  this.perm = [];\n  for (var i = 0; i < 512; i++) {\n    this.perm[i] = this.p[i & 255];\n  }\n\n  // A lookup table to traverse the simplex around a given point in 4D.\n  // Details can be found where this table is used, in the 4D noise method.\n  this.simplex = [\n    [0, 1, 2, 3],\n    [0, 1, 3, 2],\n    [0, 0, 0, 0],\n    [0, 2, 3, 1],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [1, 2, 3, 0],\n    [0, 2, 1, 3],\n    [0, 0, 0, 0],\n    [0, 3, 1, 2],\n    [0, 3, 2, 1],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [1, 3, 2, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [1, 2, 0, 3],\n    [0, 0, 0, 0],\n    [1, 3, 0, 2],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [2, 3, 0, 1],\n    [2, 3, 1, 0],\n    [1, 0, 2, 3],\n    [1, 0, 3, 2],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [2, 0, 3, 1],\n    [0, 0, 0, 0],\n    [2, 1, 3, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [2, 0, 1, 3],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [3, 0, 1, 2],\n    [3, 0, 2, 1],\n    [0, 0, 0, 0],\n    [3, 1, 2, 0],\n    [2, 1, 0, 3],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [3, 1, 0, 2],\n    [0, 0, 0, 0],\n    [3, 2, 0, 1],\n    [3, 2, 1, 0]\n  ];\n};\n\nSimplexNoise.prototype.dot = function (g, x, y) {\n  return g[0] * x + g[1] * y;\n};\n\nSimplexNoise.prototype.noise = function (xin, yin) {\n  var n0, n1, n2; // Noise contributions from the three corners\n  // Skew the input space to determine which simplex cell we're in\n  var F2 = 0.5 * (Math.sqrt(3.0) - 1.0);\n  var s = (xin + yin) * F2; // Hairy factor for 2D\n  var i = Math.floor(xin + s);\n  var j = Math.floor(yin + s);\n  var G2 = (3.0 - Math.sqrt(3.0)) / 6.0;\n  var t = (i + j) * G2;\n  var X0 = i - t; // Unskew the cell origin back to (x,y) space\n  var Y0 = j - t;\n  var x0 = xin - X0; // The x,y distances from the cell origin\n  var y0 = yin - Y0;\n  // For the 2D case, the simplex shape is an equilateral triangle.\n  // Determine which simplex we are in.\n  var i1, j1; // Offsets for second (middle) corner of simplex in (i,j) coords\n  if (x0 > y0) {\n    i1 = 1;\n    j1 = 0;\n  } // lower triangle, XY order: (0,0)->(1,0)->(1,1)\n  else {\n    i1 = 0;\n    j1 = 1;\n  } // upper triangle, YX order: (0,0)->(0,1)->(1,1)\n  // A step of (1,0) in (i,j) means a step of (1-c,-c) in (x,y), and\n  // a step of (0,1) in (i,j) means a step of (-c,1-c) in (x,y), where\n  // c = (3-sqrt(3))/6\n  var x1 = x0 - i1 + G2; // Offsets for middle corner in (x,y) unskewed coords\n  var y1 = y0 - j1 + G2;\n  var x2 = x0 - 1.0 + 2.0 * G2; // Offsets for last corner in (x,y) unskewed coords\n  var y2 = y0 - 1.0 + 2.0 * G2;\n  // Work out the hashed gradient indices of the three simplex corners\n  var ii = i & 255;\n  var jj = j & 255;\n  var gi0 = this.perm[ii + this.perm[jj]] % 12;\n  var gi1 = this.perm[ii + i1 + this.perm[jj + j1]] % 12;\n  var gi2 = this.perm[ii + 1 + this.perm[jj + 1]] % 12;\n  // Calculate the contribution from the three corners\n  var t0 = 0.5 - x0 * x0 - y0 * y0;\n  if (t0 < 0) n0 = 0.0;\n  else {\n    t0 *= t0;\n    n0 = t0 * t0 * this.dot(this.grad3[gi0], x0, y0); // (x,y) of grad3 used for 2D gradient\n  }\n  var t1 = 0.5 - x1 * x1 - y1 * y1;\n  if (t1 < 0) n1 = 0.0;\n  else {\n    t1 *= t1;\n    n1 = t1 * t1 * this.dot(this.grad3[gi1], x1, y1);\n  }\n  var t2 = 0.5 - x2 * x2 - y2 * y2;\n  if (t2 < 0) n2 = 0.0;\n  else {\n    t2 *= t2;\n    n2 = t2 * t2 * this.dot(this.grad3[gi2], x2, y2);\n  }\n  // Add contributions from each corner to get the final noise value.\n  // The result is scaled to return values in the interval [-1,1].\n  return 70.0 * (n0 + n1 + n2);\n};\n\nexport default SimplexNoise;","import Util from './util';\nimport Vector2 from './vector2';\nimport SimplexNoise from './noise';\n\n// @Confetti\nvar CONFETTI_DEFAULT_CONFIG = {\n  color: 'white',\n\n  height: 20,\n  width: 20,\n\n  mass: 1,\n  life: 100,\n\n  startPosition: new Vector2(),\n  startVelocity: new Vector2(),\n\n  frictionCoefficient: 0,\n  dragCoefficient: 0,\n\n  simplexZoomMultiplier: 100,\n  simplexXOffset: 0,\n  simplexYOffset: 0,\n};\n\nvar Confetti = function(config) {\n  this.init(config);\n};\n\nConfetti.prototype = {\n  // 1) Initialize properties and set config.\n  init: function(config) {\n    this.config = Util.objectAssign({}, CONFETTI_DEFAULT_CONFIG);\n    this.setConfig(config);\n\n    this.isAlive = true;\n\n    // Vector2\n    this.position = new Vector2().equals(this.config.startPosition);\n    this.velocity = new Vector2().equals(this.config.startVelocity);\n    this.acceleration = new Vector2();\n\n    this.angle = 0.1;\n    this.angleVelocity = 0.4;\n    this.angleAcceleration = 0;\n\n    this.simplex = new SimplexNoise();\n  },\n  // 2) Set coin config.\n  setConfig: function(config) {\n    if (typeof config === 'object') Util.objectAssign(this.config, config);\n    this.life = this.config.life;\n  },\n  applyFriction: function(frictionCoefficient) {\n    var friction = typeof frictionCoefficient === 'number' ? frictionCoefficient : this.config.frictionCoefficient;\n    if (friction !== 0) {\n      var force = this.velocity.clone().multiply(-1).normalize().multiply(friction);\n      this.applyForce(force);\n    }\n  },\n  applyDrag: function() {\n    var speed = this.velocity.magnitude();\n    var dragMagnitude = this.config.dragCoefficient * speed * speed;\n    var force = this.velocity.clone().multiply(-1).normalize().multiply(dragMagnitude);\n    this.applyForce(force);\n  },\n  applyLateralEntropy: function(t) {\n    var zoom = this.config.simplexZoomMultiplier;\n    if (zoom === 0) zoom = 1;\n    var x = this.simplex.noise(\n      this.config.simplexXOffset + (t / zoom),\n      this.config.simplexYOffset\n    );\n    var lateralOscillation = new Vector2(x, 0);\n    this.applyForce(lateralOscillation);\n  },\n  applyForce: function(force) {\n    force.divide(this.config.mass);\n    this.acceleration.add(force);\n    return this;\n  },\n  update: function() {\n    this.life--;\n    if (this.life <= 0) this.isAlive = false;\n    this.velocity\n      .add(this.acceleration)\n      .limit(this.config.maximumSpeed);\n    this.position.add(this.velocity);\n    this.acceleration.multiply(0);\n\n    this.angleVelocity += this.angleAcceleration;\n    this.angleVelocity = Util.constrain(this.angleVelocity, [-0.1, 0.1]);\n    this.angle += this.angleVelocity;\n    return this;\n  },\n  draw: function(context, m) {\n\n    var x = this.position.x * m;\n    var y = this.position.y * m;\n\n    var w = this.config.width * m;\n    var h = this.config.height * m;\n\n    context.save();\n\n    context.translate(x, y);\n    context.rotate(this.angle);\n    context.transform(1, 0, 0, 1, 0, 0);\n    context.translate(-x, -y);\n\n    context.beginPath();\n\n    context.moveTo(x - (w / 2), y - (h / 2));\n    context.lineTo(x + (w / 2), y - (h / 2));\n    context.lineTo(x + (w / 2), y + (h / 2));\n    context.lineTo(x - (w / 2), y + (h / 2));\n\n    context.fillStyle = this.config.color;\n    context.fill();\n\n    context.restore();\n  },\n  die: function() {\n    this.life = 0;\n    this.isAlive = false;\n  },\n}\n\nexport default Confetti;","import Util from './util';\nimport Vector2 from './vector2';\nimport Animation from './animation';\nimport Confetti from './confetti';\n\nvar CONFETTI_CANNON_DEFAULT_CONFIG = {\n  // Canvas Settings\n  parentElement: null,\n  resolutionMultiplier: 1,\n  zIndex: 0,\n  prepareCanvas: function (canvas, context) {},\n\n  // Confetti settings\n  colorChoices: ['#80EAFF', '#FF0055', '#00FFAA', '#FFFF00'],\n  widthRange: [2, 8],\n  heightRange: [2, 10],\n  lifeSpanRange: [100, 200],\n\n  // Cannon Settings\n  // Warning firePosition is relative to canvas.\n  firePosition: new Vector2(),\n  updateFirePosition: function () {\n    return false;\n  },\n\n  numberOfConfetti: 500,\n  delay: 0,\n  angle: 3 * Math.PI / 2,\n  blastArc: Math.PI / 2,\n  powerRange: [2, 40],\n\n  // Environment Settings\n  gravity: 1,\n  frictionCoefficient: 0.1,\n  dragCoefficient: 0,\n  simplexZoomMultiplierRange: [80, 100],\n  simplexOffsetMultiplier: 100,\n\n  // Hooks\n  beforeFire: function () {},\n  onFire: function () {},\n  onComplete: function () {},\n};\n\nvar ConfettiCannon = function (config) {\n  this.init(config);\n};\n\nConfettiCannon.prototype = {\n  // 1) Initialize properties and stuff.\n  init: function (config) {\n    this.config = Util.objectAssign({}, CONFETTI_CANNON_DEFAULT_CONFIG);\n    this.setConfig(config);\n\n    this.isActive = false;\n    this.confetti;\n    this.animation;\n    this.updateCount = 0;\n  },\n  // 2) Set config.\n  setConfig: function (config) {\n    if (typeof config === 'object') Util.objectAssign(this.config, config);\n    if (this.config.numberOfConfetti < 0) this.config.numberOfConfetti = 0;\n    if (this.config.resolutionMultiplier < 1) this.config.resolutionMultiplier = 1;\n    if (this.config.delay < 0) this.config.delay = 0;\n  },\n  // 3) Trigger Start.\n  fire: function () {\n    this.setup();\n    this.begin();\n  },\n  // 4) Setup target vectors, initialize coin objects, and create canvas.\n  setup: function (callback) {\n    if (this.isActive === false) {\n      this.isActive = true;\n      this.populate();\n      this.createCanvas(callback);\n    }\n  },\n  // 7) Prepare, calculate, and initialize confetti objects.\n  populate: function () {\n    this.confetti = [];\n    for (var i = 0; i < this.config.numberOfConfetti; i++) {\n      var config = this.generateConfettiConfig();\n      this.confetti.push(new Confetti(config));\n    }\n  },\n  // 8) This factory function generates config for each coin object.\n  generateConfettiConfig: function () {\n    return {\n      color: Util.randomChoice(this.config.colorChoices),\n      life: Util.modulate(Math.random(), 1, this.config.lifeSpanRange),\n      startPosition: new Vector2().equals(this.config.firePosition),\n      startVelocity: new Vector2(1, 1)\n        .normalize()\n        .rotateTo(this.config.angle)\n        .rotateBy(Util.modulate(Math.random(), 1, [-this.config.blastArc / 2, this.config.blastArc / 2]))\n        .multiply(Util.modulate(Math.random(), 1, this.config.powerRange)),\n\n      width: Util.modulate(Math.random(), 1, this.config.widthRange),\n      height: Util.modulate(Math.random(), 1, this.config.heightRange),\n      dragCoefficient: this.config.dragCoefficient,\n\n      simplexZoomMultiplier: Util.modulate(Math.random(), 1, this.config.simplexZoomMultiplierRange),\n      simplexXOffset: Math.random() * this.config.simplexOffsetMultiplier,\n      simplexYOffset: Math.random() * this.config.simplexOffsetMultiplier,\n    };\n  },\n  // 9) Create canvas element and calculate offset. Takes in a callback (begin method).\n  createCanvas: function () {\n    if (typeof this.canvasElement === 'undefined') {\n      this.canvasElement = document.createElement('CANVAS');\n\n      this.canvasElement.style.position = 'fixed';\n      this.canvasElement.style.zIndex = this.config.zIndex.toString();\n\n      this.canvasElement.style.left = '0px';\n      this.canvasElement.style.top = '0px';\n\n      this.setCanvasDimensionToWindow();\n      this.config.prepareCanvas(this.canvasElement, this);\n\n      this.context = this.canvasElement.getContext('2d');\n\n      if (Util.isHTMLElement(this.config.parentElement) === true)\n        this.config.parentElement.appendChild(this.canvasElement);\n\n      var result = this.config.updateFirePosition(this);\n      if (Vector2.isPoint(result) === true)\n        this.config.firePosition.equals(result);\n    }\n  },\n  setCanvasDimension: function (width, height) {\n    this.canvasElement.width = width * this.config.resolutionMultiplier;\n    this.canvasElement.height = height * this.config.resolutionMultiplier;\n  },\n  setCanvasDimensionToWindow: function () {\n    this.canvasElement.style.width = window.innerWidth + 'px';\n    this.canvasElement.style.height = window.innerHeight + 'px';\n    this.canvasElement.width = window.innerWidth * this.config.resolutionMultiplier;\n    this.canvasElement.height = window.innerHeight * this.config.resolutionMultiplier;\n  },\n  getElementCenterVectorRelativeToCanvas: function (element) {\n    var canvasRect = this.canvasElement.getBoundingClientRect();\n    var elementRect = element.getBoundingClientRect();\n    var x = (elementRect.left - canvasRect.left) + (elementRect.width / 2);\n    var y = (elementRect.top - canvasRect.top) + (elementRect.height / 2);\n    return new Vector2(x, y);\n  },\n  // 10) This is called once canvasElement is defined and is in the DOM. Start animation!\n  begin: function () {\n    if (this.isActive === true) {\n      this.startAnimation();\n      if (this.confetti.length === 0) this.end();\n    }\n  },\n  // 11) Initialize animation object and start it.\n  startAnimation: function () {\n    this.updateCount = 0;\n    this.config.beforeFire(this);\n    this.animation = new Animation({\n      delay: this.config.delay,\n      duration: 'forever',\n      onStart: function () {\n        this.config.onFire(this);\n      }.bind(this),\n      onTick: this.update.bind(this),\n    });\n    this.animation.play();\n  },\n  // 12) Loop through each coins and draw them.\n  update: function () {\n    this.clearCanvas();\n\n    var deadConfetti = 0;\n    var gravity = new Vector2(0, this.config.gravity);\n    for (var i = 0; i < this.confetti.length; i++) {\n      if (this.confetti[i].isAlive === true) {\n        this.confetti[i].applyFriction(this.config.frictionCoefficient);\n        this.confetti[i].applyDrag();\n        this.confetti[i].applyForce(gravity);\n        this.confetti[i].applyLateralEntropy(this.updateCount);\n        this.confetti[i].update();\n        this.confetti[i].draw(this.context, this.config.resolutionMultiplier);\n\n        if (this.confetti[i].position.y + this.confetti[i].config.height > this.canvasElement.height)\n          this.confetti[i].die();\n      } else {\n        deadConfetti++;\n      }\n    }\n    this.updateCount++;\n    if (deadConfetti === this.confetti.length) this.end();\n  },\n  // 13) Helper function to clear canvas every frame.\n  clearCanvas: function () {\n    if (typeof this.canvasElement === 'object')\n      this.context.clearRect(0, 0, this.canvasElement.width, this.canvasElement.height);\n  },\n  // 15) This is called after the last coin reached the end. Or if numberOfCoins is 0. Sayonara!\n  end: function () {\n    this.clearCanvas();\n    this.animation.stop();\n    this.canvasElement.remove();\n    this.canvasElement = undefined;\n    this.confetti = [];\n    this.isActive = false;\n    this.config.onComplete();\n  },\n}\n\nexport default ConfettiCannon;","import Util from './util';\nimport Vector2 from './vector2';\n\nvar CONFETTI_CANNON_INDICATOR_DEFAULT_CONFIG = {\n  canvasElement: undefined,\n  angle: 0,\n  arc: Math.PI / 4,\n  power: 10,\n  getCannonPosition: function() { return new Vector2(); },\n};\n\nvar ConfettiCannonIndicator = function(config) {\n  this.init(config);\n}\n\nConfettiCannonIndicator.prototype = {\n  init: function (config) {\n    this.config = Util.objectAssign({}, CONFETTI_CANNON_INDICATOR_DEFAULT_CONFIG);\n    this.setConfig(config);\n\n    this.context = this.config.canvasElement.getContext('2d');\n\n    this.listen();\n  },\n  setConfig: function (config) {\n    if (typeof config === 'object') Util.objectAssign(this.config, config);\n  },\n  updateCanvas: function () {\n    this.config.canvasElement.width = window.innerWidth;\n    this.config.canvasElement.height = window.innerHeight;\n  },\n  display: function() {\n    this.updateCanvas();\n    var position = this.config.getCannonPosition();\n\n    var length = Util.hypotenuse(\n      this.config.canvasElement.offsetWidth,\n      this.config.canvasElement.offsetHeight\n    );\n    length = length / 2;\n\n    var target = new Vector2(0, 1).rotateTo(this.config.angle).normalize().multiply(length).add(position);\n    var left   = new Vector2(0, 1).rotateTo(this.config.angle - (this.config.arc / 2)).normalize().multiply(length).add(position);\n    var right  = new Vector2(0, 1).rotateTo(this.config.angle + (this.config.arc / 2)).normalize().multiply(length).add(position);\n\n    if (this.config.arc !== Math.PI * 2) {\n      var gradient = this.context.createLinearGradient(position.x, position.y, target.x, target.y);\n      gradient.addColorStop(0, 'hsla(340, 100%, 50%, 0)');\n      gradient.addColorStop(1, 'hsla(340, 100%, 50%, 1)');\n      this.context.save();\n      this.context.beginPath();\n      this.context.moveTo(position.x, position.y);\n      this.context.lineTo(target.x, target.y);\n      this.context.strokeStyle = gradient;\n      this.context.stroke();\n\n      var gradient0 = this.context.createLinearGradient(position.x, position.y, right.x, right.y);\n      gradient0.addColorStop(0, 'hsla(340, 100%, 50%, 0)');\n      gradient0.addColorStop(1, 'hsla(340, 100%, 50%, 1)');\n      this.context.beginPath();\n      this.context.moveTo(position.x, position.y);\n      this.context.lineTo(right.x, right.y);\n      this.context.strokeStyle = gradient0;\n      this.context.stroke();\n      // this.context.restore();\n\n      var gradient1 = this.context.createLinearGradient(position.x, position.y, left.x, left.y);\n      gradient1.addColorStop(0, 'hsla(340, 100%, 50%, 0)');\n      gradient1.addColorStop(1, 'hsla(340, 100%, 50%, 1)');\n      this.context.beginPath();\n      this.context.moveTo(position.x, position.y);\n      this.context.lineTo(left.x, left.y);\n      this.context.strokeStyle = gradient1;\n      this.context.stroke();\n      // this.context.restore();\n    }\n\n    this.context.beginPath();\n    if (this.config.arc === Math.PI * 2) {\n      this.context.arc(\n        position.x,\n        position.y,\n        Util.modulate(this.config.power, [10, 150], [100, 500]),\n        0,\n        Math.PI * 2\n      );     \n    } else {\n      this.context.arc(\n        position.x,\n        position.y,\n        Util.modulate(this.config.power, [10, 150], [100, 500]),\n        Util.cycleNumber(this.config.angle - this.config.arc / 2, Math.PI * 2),\n        Util.cycleNumber(this.config.angle + this.config.arc / 2, Math.PI * 2)\n      );\n    }\n    this.context.strokeStyle = 'hsla(340, 100%, 50%, 0.5)';\n    this.context.stroke();\n  },\n  listen: function () {\n    window.addEventListener('resize', function () {\n      this.updateCanvas();\n      this.display();\n    }.bind(this));\n  },\n};\n\nexport default ConfettiCannonIndicator;\n","import Util from './util';\nimport Vector2 from './vector2';\n\n var POINTER_DRAG_EVENT_MANAGER_DEFAULT_CONFIG = {\n  target: undefined,\n  keepHistory: true,\n\n  condition: function () { return true; },\n\n  onEvent: function () {},\n\n  onStart: function () {},\n  onDrag: function () {},\n  onEnd: function () {},\n  onCancel: function () {},\n};\n\nvar PointerDragEventManager = function (config) {\n  this.init(config);\n}\n\nPointerDragEventManager.prototype = {\n  init(config) {\n    this.config = Util.objectAssign({}, POINTER_DRAG_EVENT_MANAGER_DEFAULT_CONFIG);\n    this.setConfig(config);\n\n    this.isActive = false;\n    this.isTouch = false;\n    this.touchIdentifier = 0;\n\n    this.history = [];\n\n    this.listen();\n  },\n  setConfig: function (config) {\n    if (typeof config === 'object') Util.objectAssign(this.config, config);\n  },\n  createMousePointerDragEvent: function (type, event) {\n    return {\n      event: event,\n      isTouch: false,\n      position: new Vector2(event.clientX, event.clientY),\n      target: event.target,\n      time: Date.now(),\n      type: type,\n    };\n  },\n  eventHandlerMouseDown: function (event) {\n    if (\n      this.isActive === false\n      && this.config.condition(event, this) === true\n    ) {\n      console.log('he');\n      this.isActive = true;\n      this.isTouch = false;\n      this.config.onEvent(event, this);\n      var pointerEvent = this.createMousePointerDragEvent('down', event);\n      if (this.config.keepHistory === true) {\n        this.history = [];\n        this.history.push(pointerEvent);\n      }\n      this.config.onStart(pointerEvent, this);\n    }\n  },\n  eventHandlerMouseMove: function (event) {\n    if (this.isActive === true) {\n      this.config.onEvent(event, this);\n      var pointerEvent = this.createMousePointerDragEvent('drag', event);\n      if (this.config.keepHistory === true) this.history.push(pointerEvent);\n      this.config.onDrag(pointerEvent, this);\n    }\n  },\n  eventHandlerMouseUp: function (event) {\n    if (this.isActive === true) {\n      this.config.onEvent(event, this);\n      var pointerEvent = this.createMousePointerDragEvent('up', event);\n      if (this.config.keepHistory === true) this.history.push(pointerEvent);\n      this.config.onEnd(pointerEvent, this);\n      this.end();\n    }\n  },\n  eventHandlerMouseLeave: function (event) {\n    if (this.isActive === false) {\n      this.config.onEvent(event, this);\n      var pointerEvent = this.createMousePointerDragEvent('cancel', event);\n      if (this.config.keepHistory === true) this.history.push(pointerEvent);\n      this.config.onCancel(pointerEvent, this);\n      this.end();\n    }\n  },\n  createTouchPointerDragEvent: function (type, event, touch) {\n    return {\n      event: event,\n      identifier: touch.identifier,\n      isTouch: true,\n      position: new Vector2(touch.clientX, touch.clientY),\n      target: touch.target,\n      time: Date.now(),\n      touch: touch,\n      type: type,\n    };\n  },\n  eventHandlerTouchStart: function (event) {\n    if (\n      this.isActive === false\n      && this.config.condition(event, this) === true\n    ) {\n      this.isActive = true;\n      this.isTouch = true;\n      this.config.onEvent(event, this);\n      this.touchIdentifier = event.changedTouches[0].identifier;\n      var pointerEvent = this.createTouchPointerDragEvent('down', event, event.changedTouches[0]);\n      if (this.config.keepHistory === true) {\n        this.history = [];\n        this.history.push(pointerEvent);\n      }\n      this.config.onStart(pointerEvent, this);\n    }\n  },\n  eventHandlerTouchMove: function (event) {\n    if (this.isActive === true) {\n      this.config.onEvent(event, this);\n      Array.from(event.changedTouches).forEach(touch => {\n        if (touch.identifier === this.touchIdentifier) {\n          var pointerEvent = this.createTouchPointerDragEvent('drag', event, touch);\n          if (this.config.keepHistory === true) this.history.push(pointerEvent);\n          this.config.onDrag(pointerEvent, this);\n        }\n      });\n    }\n  },\n  eventHandlerTouchEnd: function (event) {\n    if (this.isActive === true) {\n      this.config.onEvent(event, this);\n      Array.from(event.changedTouches).forEach(touch => {\n        if (touch.identifier === this.touchIdentifier) {\n          var pointerEvent = this.createTouchPointerDragEvent('up', event, touch);\n          if (this.config.keepHistory === true) this.history.push(pointerEvent);\n          this.config.onEnd(pointerEvent, this);\n        }\n      });\n      this.end();\n    }\n  },\n  eventHandlerTouchCancel: function (event) {\n    if (this.isActive === true) {\n      this.config.onEvent(event, this);\n      Array.from(event.changedTouches).forEach(touch => {\n        if (touch.identifier === this.touchIdentifier) {\n          var pointerEvent = this.createTouchPointerDragEvent('cancel', event, touch);\n          if (this.config.keepHistory === true) this.history.push(pointerEvent);\n          this.config.onCancel(pointerEvent, this);\n        }\n      });\n      this.end();\n    }\n  },\n  end: function () {\n    this.touchIdentifier = 0;\n    this.isActive = false;\n  },\n  listen: function () {\n    if (Util.isHTMLElement(this.config.target) === true) {\n      // Listen Mouse Events\n      this.config.target.addEventListener('mousedown', this.eventHandlerMouseDown.bind(this));\n      window.addEventListener('mousemove', this.eventHandlerMouseMove.bind(this));\n      window.addEventListener('mouseup', this.eventHandlerMouseUp.bind(this));\n      document.body.addEventListener('mouseleave', this.eventHandlerMouseLeave.bind(this));\n\n      // Listen to Touch events.\n      this.config.target.addEventListener('touchstart', this.eventHandlerTouchStart.bind(this));\n      window.addEventListener('touchmove', this.eventHandlerTouchMove.bind(this));\n      window.addEventListener('touchend', this.eventHandlerTouchEnd.bind(this));\n      window.addEventListener('touchcancel', this.eventHandlerTouchCancel.bind(this));\n    }\n  },\n}\n\nexport default PointerDragEventManager;","import Util from '../util';\nimport PointerDragEventManager from '../pointerDragEventManager';\n\nvar SLIDER_CONTROL_DEFAULT_CONFIG = {\n  trackElement: undefined,\n  knobElement: undefined,\n  valueElement: undefined,\n\n  range: [0, 1],\n  listenToKnobOnly: false,\n\n  onInit: function () {},\n  onActivate: function () {},\n  onDeactivate: function () {},\n  onUpdate: function () {},\n  moveKnob: function (knob, left) {\n    knob.style.transform = `translateX(${left}px)`;\n  },\n};\n\nvar SliderControl = function (config) {\n  this.init(config);\n}\n\nSliderControl.prototype = {\n  init: function (config) {\n    this.config = Util.objectAssign({}, SLIDER_CONTROL_DEFAULT_CONFIG);\n    this.setConfig(config);\n\n    this.isActive = false;\n\n    this.knobLeftOffset = 0;\n    this.pointerDragEventManager = undefined;\n\n    this._value = 0;\n\n    this.config.onInit(this);\n    this.config.onUpdate(this);\n\n    this.pointerDragEventManager = new PointerDragEventManager();\n    this.listen();\n  },\n  setConfig: function (config) {\n    if (typeof config === 'object') Object.assign(this.config, config);\n  },\n  setValue: function (value) {\n    var knobElement = this.config.knobElement;\n    var trackElement = this.config.trackElement;\n\n    var trackRect = trackElement.getBoundingClientRect();\n    var knobRect = knobElement.getBoundingClientRect();\n\n    var left = Util.modulate(value, this.config.range, [0, trackRect.width - knobRect.width]);\n    this.config.moveKnob(knobElement, left);\n    this._value = Util.modulate(value, this.config.range, 1);\n    this.config.onUpdate(this);\n  },\n  getValue: function () {\n    return Util.modulate(this._value, 1, this.config.range);\n  },\n  update: function () {\n    var knobElement = this.config.knobElement;\n    var trackElement = this.config.trackElement;\n\n    var trackRect = trackElement.getBoundingClientRect();\n    var knobRect = knobElement.getBoundingClientRect();\n\n    var left = Util.modulate(this._value, 1, [0, trackRect.width - knobRect.width]);\n    this.config.moveKnob(knobElement, left);\n    this.config.onUpdate(this);\n  },\n  eventHandlerStart: function (pointerEvent) {\n    if (\n      this.isActive === false &&\n      Util.isHTMLElement(this.config.knobElement) === true &&\n      Util.isHTMLElement(this.config.trackElement) === true\n    ) {\n      var knobElement = this.config.knobElement;\n      var trackElement = this.config.trackElement;\n\n      if (\n        this.config.listenToKnobOnly === false &&\n        pointerEvent.target === this.config.trackElement\n      ) {\n        var knobRect = knobElement.getBoundingClientRect();\n        var trackRect = trackElement.getBoundingClientRect();\n        // Check left edge\n        if (\n          pointerEvent.position.x - trackRect.left >= 0 &&\n          pointerEvent.position.x - trackRect.left <= knobRect.width\n        ) {\n          this._value = 0;\n          this.config.moveKnob(knobElement, 0);\n          this.config.onUpdate(this);\n          // Check right edge.\n        } else if (\n          pointerEvent.position.x - trackRect.left <= trackRect.width &&\n          pointerEvent.position.x - trackRect.left >= trackRect.width - knobRect.width\n        ) {\n          this._value = 1;\n          this.config.moveKnob(knobElement, trackRect.width - knobRect.width);\n          this.config.onUpdate(this);\n        } else if (\n          pointerEvent.position.x - trackRect.left >= 0 &&\n          pointerEvent.position.x - trackRect.left <= trackRect.width\n        ) {\n          var left = pointerEvent.position.x - trackRect.left - (knobRect.width / 2);\n          this._value = Util.modulate(left, [0, trackRect.width - knobRect.width], 1, true);\n          this.config.moveKnob(knobElement, left);\n          this.config.onUpdate(this);\n        }\n      }\n\n      if (\n        this.config.listenToKnobOnly === false ||\n        (\n          this.config.listenToKnobOnly === true &&\n          Util.hasAncestor(pointerEvent.target, knobElement) === true\n        )\n      ) {\n        this.isActive = true;\n        const knobRect = knobElement.getBoundingClientRect();\n        this.knobLeftOffset = pointerEvent.position.x - knobRect.left;\n        this.config.onActivate(this);\n      }\n    }\n  },\n  eventHandlerDrag: function (pointerEvent) {\n    if (this.isActive === true) {\n      const knobElement = this.config.knobElement;\n      const trackElement = this.config.trackElement;\n      const trackRect = trackElement.getBoundingClientRect();\n      const knobRect = knobElement.getBoundingClientRect();\n      let left = pointerEvent.position.x - this.knobLeftOffset - trackRect.left;\n      if (left + knobRect.width >= trackRect.width) left = trackRect.width - knobRect.width;\n      if (left < 0) left = 0;\n      this._value = Util.modulate(left, [0, trackRect.width - knobRect.width], 1, true);\n      this.config.moveKnob(knobElement, left);\n      this.config.onUpdate(this);\n    }\n  },\n  eventHandlerEnd: function () {\n    if (this.isActive === true) {\n      this.config.onDeactivate(this);\n      this.isActive = false;\n    }\n  },\n  listen: function () {\n    if (Util.isHTMLElement(this.config.trackElement) === true) {\n      this.pointerDragEventManager = new PointerDragEventManager({\n        onEvent: function (event) { event.preventDefault() },\n        keepHistory: false,\n        target: this.config.trackElement,\n        onStart: this.eventHandlerStart.bind(this),\n        onDrag: this.eventHandlerDrag.bind(this),\n        onEnd: this.eventHandlerEnd.bind(this),\n        onCancel: this.eventHandlerEnd.bind(this),\n      });\n    }\n  },\n}\n\nexport default SliderControl;","import Util from './util';\nimport Vector2 from './vector2';\nimport ConfettiCannon from './confettiCannon';\n\nvar getElementCenterVector = function (element) {\n  var rect = element.getBoundingClientRect();\n  return new Vector2(\n    rect.left + (rect.width / 2),\n    rect.top + (rect.height / 2),\n  );\n};\n\nvar containerElement = document.querySelector('.container');\nvar triggerElement = document.querySelector('.triggerButton');\n\nvar confettiCannon = new ConfettiCannon({\n  parentElement: containerElement,\n  resolutionMultiplier: 2,\n\n  colorChoices: ['#80EAFF', '#FF0055', '#00FFAA', '#FFFF00'],\n  widthRange: [2, 10],\n  heightRange: [2, 10],\n  lifeSpanRange: [100, 250],\n\n  // Cannon Settings\n  firePosition: getElementCenterVector(triggerElement),\n  numberOfConfetti: 500,\n\n  delay: 200,\n  // angle: Math.PI,\n  // angle: Math.PI + Math.PI / 4,\n  angle: 3 * Math.PI / 2,\n  // angle: Math.PI * 2 - Math.PI / 4,\n  // angle: 0,\n  blastArc: Math.PI / 3,\n\n  // Power Ranger\n  powerRange: [10, 50],\n\n  gravity: 1,\n  // Please don't set this higher or equal to gravity value.\n  frictionCoefficient: 0.9,\n  // Keep this zero.\n  dragCoefficient: 0,\n\n  // Simplex lateral entropy settings.\n  simplexZoomMultiplierRange: [80, 120],\n  simplexOffsetMultiplier: 100,\n\n  beforeFire: function () {\n    triggerElement.classList.add('triggerButton--disabled');\n    triggerElement.textContent = 'Steady...';\n  },\n  onFire: function () {\n    triggerElement.textContent = 'Reloading...';\n  },\n  onComplete: function () {\n    triggerElement.classList.remove('triggerButton--disabled');\n    triggerElement.textContent = 'Fire!';\n  },\n});\n\ntriggerElement.addEventListener('click', function () {\n  confettiCannon.fire();\n}.bind(this));\n\nwindow.addEventListener('resize', function () {\n  confettiCannon.config.firePosition.equals(getElementCenterVector(triggerElement));\n}.bind(this));\n\n// @indicator\n\nimport ConfettiCannonIndicator from './confettiCannonIndicator';\n\nvar confettiCannonIndicator = new ConfettiCannonIndicator({\n  canvasElement: document.querySelector('canvas.confettiCannonIndicator'),\n  getCannonPosition: function () {\n    const rect = triggerElement.getBoundingClientRect();\n    return new Vector2(\n      rect.left + rect.width  / 2,\n      rect.top  + rect.height / 2\n    );\n  },\n});\n\nconfettiCannonIndicator.display();\n\n// @controls\nimport SliderControl from './controls/slider';\n\nvar sliderControlElementAngle = document.getElementById('sc_angle');\nvar sc_angle = new SliderControl({\n  trackElement: sliderControlElementAngle.querySelector('.sliderControl__track'),\n  knobElement: sliderControlElementAngle.querySelector('.sliderControl__knob'),\n  valueElement: sliderControlElementAngle.querySelector('.sliderControl__value'),\n\n  range: [0, Math.PI * 2],\n\n  onInit: function (slider) {\n    slider.setValue(3 * Math.PI / 2);\n  },\n  onUpdate: function (slider) {\n    var value = slider.getValue();\n    confettiCannon.config.angle = value;\n    confettiCannonIndicator.config.angle = value;\n    confettiCannonIndicator.display();\n    slider.config.valueElement.textContent = ((Math.PI * 2 - value) / (Math.PI / 180)).toFixed(2) + String.fromCharCode(176);\n  },\n});\n\nvar sliderBlastArcControlElement = document.getElementById('sc_blastArc');\nvar sc_blastArc = new SliderControl({\n  trackElement: sliderBlastArcControlElement.querySelector('.sliderControl__track'),\n  knobElement: sliderBlastArcControlElement.querySelector('.sliderControl__knob'),\n  valueElement: sliderBlastArcControlElement.querySelector('.sliderControl__value'),\n\n  range: [0, Math.PI * 2],\n\n  onInit: function (slider) {\n    slider.setValue(Math.PI / 2);\n  },\n  onUpdate: function (slider) {\n    var value = slider.getValue();\n    confettiCannon.config.blastArc = value;\n    confettiCannonIndicator.config.arc = value;\n    confettiCannonIndicator.display();\n    slider.config.valueElement.textContent = (value / (Math.PI / 180)).toFixed(2) + String.fromCharCode(176);\n  },\n});\n\nvar sliderMaxPowerControlElement = document.getElementById('sc_maxPower');\nvar sc_maxPower = new SliderControl({\n  trackElement: sliderMaxPowerControlElement.querySelector('.sliderControl__track'),\n  knobElement: sliderMaxPowerControlElement.querySelector('.sliderControl__knob'),\n  valueElement: sliderMaxPowerControlElement.querySelector('.sliderControl__value'),\n\n  range: [10, 150],\n\n  onInit: function (slider) {\n    slider.setValue(50);\n  },\n  onUpdate: function (slider) {\n    var value = slider.getValue();\n    confettiCannon.config.powerRange = [10, value];\n    confettiCannonIndicator.config.power = value;\n    confettiCannonIndicator.display();\n    slider.config.valueElement.textContent = (value).toFixed(2);\n  },\n});\n\nvar sliderNumberOfConfettiControlElement = document.getElementById('sc_numberOfConfetti');\nvar sc_numberOfConfetti = new SliderControl({ \n  trackElement: sliderNumberOfConfettiControlElement.querySelector('.sliderControl__track'),\n  knobElement: sliderNumberOfConfettiControlElement.querySelector('.sliderControl__knob'),\n  valueElement: sliderNumberOfConfettiControlElement.querySelector('.sliderControl__value'),\n\n  range: [50, 10000],\n\n  onInit: function (slider) {\n    slider.setValue(500);\n  },\n  onUpdate: function (slider) {\n    var value = slider.getValue();\n    confettiCannon.config.numberOfConfetti = Math.floor(value);\n    slider.config.valueElement.textContent = Math.floor(value);\n  },\n});\n\n\nvar sliderGravityControlElement = document.getElementById('sc_gravity');\nvar sc_gravity = new SliderControl({\n  trackElement: sliderGravityControlElement.querySelector('.sliderControl__track'),\n  knobElement: sliderGravityControlElement.querySelector('.sliderControl__knob'),\n  valueElement: sliderGravityControlElement.querySelector('.sliderControl__value'),\n\n  range: [-2, 2],\n\n  onInit: function (slider) {\n    slider.setValue(1);\n  },\n  onUpdate: function (slider) {\n    var value = slider.getValue();\n    confettiCannon.config.gravity = value;\n    slider.config.valueElement.textContent = value.toFixed(2);\n  },\n});\n\nvar updateSliders = function () {\n  sc_angle.update();\n  sc_blastArc.update();\n  sc_gravity.update();\n  sc_maxPower.update();\n  sc_numberOfConfetti.update();\n}\n\n// Controls\n\nvar controlsIsOpen = false;\nvar controlsElement = document.querySelector('.controls');\nvar jsControlsOpenElement = document.querySelector('.js-controls-open');\njsControlsOpenElement.addEventListener('click', function () {\n  if (controlsIsOpen === false) {\n    controlsIsOpen = true;\n    controlsElement.classList.remove('controls--animate-out');\n    jsControlsOpenElement.style.display = 'none';\n    controlsElement.classList.add('controls--active');\n    updateSliders();\n    controlsElement.classList.add('controls--animate-in');\n  }\n}.bind(this));\n\nvar jsControlsCloseElement = document.querySelector('.js-controls-close');\n\nvar closeControlsElement = function () {\n  if (controlsIsOpen === true) {\n    controlsElement.classList.remove('controls--animate-in');\n    controlsElement.classList.add('controls--animate-out');\n    setTimeout(function () {\n      controlsElement.classList.remove('controls--active');\n      jsControlsOpenElement.style.display = 'block';\n      controlsIsOpen = false;\n    }.bind(this), 200);\n  }\n}\n\njsControlsCloseElement.addEventListener('click', function () {\n  closeControlsElement();\n}.bind(this));\n\nwindow.addEventListener('keyup', function (event) {\n  if (\n    controlsIsOpen === true\n    && event.keyCode === 27\n  ) closeControlsElement();\n});\n"]}