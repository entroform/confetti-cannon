{"version":3,"sources":["javascripts/util.js","javascripts/animation.js","javascripts/vector2.js","javascripts/main.js"],"names":["Util","objectAssign","object1","object2","keys","Object","i","length","isHTMLElement","element","nodeType","HTMLElement","cubicBezier","t","p1","cp1","cp2","p2","Math","pow","hypotenuse","x","y","max","abs","min","n","sqrt","lerp","from","to","modulate","number","percent","result","getEuclideanDistance","a","b","cycleNumber","range","da","c","randomChoice","array","random","whole","fixed","floor","parseFloat","toFixed","parseInt","Animation","ANIMATION_DEFAULT_CONFIG","duration","delay","timingFunction","onTick","onStart","onComplete","config","init","prototype","setConfig","rafID","timeoutID","isActive","isAnimating","timeStart","timeEnd","progress","updateProgress","now","Date","loop","continueLoop","stop","window","cancelAnimationFrame","requestAnimationFrame","bind","play","setTimeout","clearTimeout","Vector2","equals","v","clone","add","by","subtract","multiply","divide","limit","magnitude","normalize","mag","applyCubicBezier","getAngle","angle","acos","PI","getAngleTo","rotateBy","cos","sin","rotateTo","getDistanceTo","CONFETTI_DEFAULT_CONFIG","colorChoices","radius","mass","life","startPosition","startVelocity","frictionCoefficient","Confetti","isAlive","position","velocity","acceleration","applyFriction","friction","force","applyForce","update","maximumSpeed","draw","context","beginPath","arc","fillStyle","color","fill","CONFETTI_CANNON_DEFAULT_CONFIG","parentElement","resolutionMultiplier","zIndex","blastArc","numberOfConfetti","onFire","ConfettiCannon","confetti","animation","updateCount","fire","setup","begin","callback","populate","createCanvas","generateConfettiConfig","push","canvasElement","document","createElement","style","toString","left","top","updateCanvasDimension","getContext","appendChild","width","innerWidth","height","innerHeight","startAnimation","end","console","log","clearCanvas","m","deadConfetti","gravity","clearRect","remove","undefined","getElementCenterVector","rect","getBoundingClientRect","containerElement","querySelector","triggerElement","confettiCannon","classList","textContent","addEventListener"],"mappings":"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","file":"main.9016b677.js","sourceRoot":"../source","sourcesContent":["var Util = {\n  objectAssign: function(object1, object2) {\n    var keys = Object.keys(object2);\n    for (var i = 0; i < keys.length; i++)\n      object1[keys[i]] = object2[keys[i]];\n    return object1;\n  },\n  isHTMLElement: function(element) {\n    return (\n      typeof element === 'object'\n      && typeof element.nodeType === 'number'\n      && element.nodeType === 1\n      && element instanceof HTMLElement\n    );\n  },\n  cubicBezier: function(t, p1, cp1, cp2, p2) {\n    return Math.pow(1 - t, 3) * p1 + 3 * t * Math.pow(1 - t, 2) * cp1 + 3 * t * t * (1 - t) * cp2 + t * t * t * p2;\n  },\n  hypotenuse: function(x, y) {\n    var max = Math.max(Math.abs(x), Math.abs(y));\n    if (max === 0) max = 1;\n    var min = Math.min(Math.abs(x), Math.abs(y));    \n    var n = min / max;\n    return max * Math.sqrt(1 + n * n);\n  },\n  lerp: function(from, to, t) {\n    return (1 - t) * from + t * to;\n  },\n  modulate: function(number, from, to) {\n    if (typeof from === 'number') from = [0, from];\n    if (typeof to === 'number') to = [0, to];\n    var percent = (number - from[0]) / (from[1] - from[0]);\n    var result;\n    if (to[1] > to[0]) {\n      result = percent * (to[1] - to[0]) + to[0];\n    } else {\n      result = to[0] - (percent * (to[0] - to[1]));\n    }\n    return result;\n  },\n  getEuclideanDistance: function(a, b) {\n    if (a === b) return 0;\n    return Math.sqrt(Math.abs((a - b) * (b - a)));\n  },\n  cycleNumber: function(number, range) {\n    if (typeof range === 'number') range = [0, range];\n    var max = Math.max(range[0], range[1]);\n    var min = Math.min(range[0], range[1]);\n    if (max === 0 && min === 0) return 0;\n    var da = Util.getEuclideanDistance(min, max);\n    var db, c;\n    if (number > max) {\n      db = Util.getEuclideanDistance(number, max);\n      c = db % da + min;\n      return c === min ? max : c;\n    } else if (number < min) {\n      db = Util.getEuclideanDistance(number, min);\n      c = max - db % da;\n      return c === max ? min : c;\n    }\n    return number;\n  },\n  randomChoice: function(array) {\n    var index = Util.random(array.length - 1, true);\n    return array[index];\n  },\n  random: function(range, whole, fixed) {\n    if (typeof whole === 'undefined') whole = false;\n    if (typeof fixed === 'undefined') fixed = 2;\n    if (typeof range === 'number') range = [0, range];\n    if (range[0] === 0 && range[1] === 1) {\n      if (whole === true) {\n        return Math.floor(Math.random() * 2);\n      } else {\n        return parseFloat(Math.random().toFixed(fixed));\n      }\n    } else {\n      let number = this.modulate(Math.random(), 1, range, false);\n      return parseInt((number).toFixed(0), 10);\n    }\n  }\n};\n\nexport default Util;\n","import Util from './util';\n\nvar ANIMATION_DEFAULT_CONFIG = {\n  duration: 1000, // In ms\n  delay: 0,\n  timingFunction: function(t) { return t },\n  onTick: function() {},\n  onStart: function() {},\n  onComplete: function() {},\n};\n\nvar Animation = function(config) {\n  this.init(config);\n};\n\nAnimation.prototype = {\n  init: function(config) {\n    this.config = Util.objectAssign({}, ANIMATION_DEFAULT_CONFIG);\n    this.setConfig(config);\n\n    this.rafID;\n    this.timeoutID;\n\n    this.isActive = false;\n    this.isAnimating = false;\n\n    this.timeStart = 0;\n    this.timeEnd = 0;\n\n    this.progress = 0;\n  },\n  setConfig: function(config) {\n    if (typeof config === 'object') Util.objectAssign(this.config, config);\n  },\n  updateProgress: function() {\n    if (typeof this.config.duration === 'number') {\n      var now = Date.now();\n      this.progress = (now - this.timeStart) / this.config.duration;\n      if (this.progress > 1) this.progress = 1;\n    } else {\n      this.progress = 0;\n    }\n  },\n  loop: function() {\n    if (this.isAnimating === true) {\n      this.updateProgress();\n      this.config.onTick(this.config.timingFunction(this.progress));\n      if (this.progress < 1) {\n        this.continueLoop();\n      } else {\n        this.stop();\n      }\n    }\n  },\n  continueLoop: function() {\n    if (this.isAnimating === true) {\n      window.cancelAnimationFrame(this.rafID);\n      this.rafID = window.requestAnimationFrame(this.loop.bind(this));\n    }\n  },\n  play: function() {\n    if (this.isActive === false) {\n      this.isActive = true;\n      this.timeoutID = setTimeout(function() {\n        this.isAnimating = true;\n        this.timeStart = Date.now();\n        this.config.onStart(this);\n        this.continueLoop();  \n      }.bind(this), this.config.delay);\n    }\n  },\n  stop: function() {\n    if (this.isActive === true) {\n      window.cancelAnimationFrame(this.rafID);\n      clearTimeout(this.timeoutID);\n      this.isAnimating = false;\n      this.isActive = false;\n      this.timeEnd = Date.now();\n      this.progress = 0;\n      this.config.onComplete(this);\n    }\n  },\n}\n\nexport default Animation;\n","import Util from './util';\n\nvar Vector2 = function(x, y) {\n  this.init(x, y);\n};\n\nVector2.prototype = {\n  init: function(x, y) {\n    this.x = (typeof x === 'number') ? x : 0;\n    this.y = (typeof y === 'number') ? y : 0;\n  },\n  equals: function(v) {\n    this.x = v.x;\n    this.y = v.y;\n    return this;\n  },\n  clone: function() {\n    return new Vector2(this.x, this.y);\n  },\n  add: function(by) {\n    if (typeof by === 'object') {\n      this.x += by.x;\n      this.y += by.y;\n    } else if (typeof by === 'number') {\n      this.x += by;\n      this.y += by;\n    }\n    return this;\n  },\n  subtract: function(by) {\n    if (typeof by === 'object') {\n      this.x -= by.x;\n      this.y -= by.y;\n    } else if (typeof by === 'number') {\n      this.x -= by;\n      this.y -= by;\n    }\n    return this;\n  },\n  multiply: function(by) {\n    this.x *= by;\n    this.y *= by;\n    return this;\n  },\n  divide: function(by) {\n    if (by === 0) by = 1;\n    this.x /= by;\n    this.y /= by;\n    return this;\n  },\n  limit: function(by) {\n    if (this.magnitude() > by)\n      this.normalize().multiply(by, by);\n    return this;\n  },\n  magnitude: function() {\n    return Util.hypotenuse(this.x, this.y);\n  },\n  normalize: function() {\n    var mag = Math.abs(this.magnitude()); \n    mag = mag === 0 ? 1 : mag;\n    this.x /= mag;\n    this.y /= mag;\n    return this;\n  },\n  applyCubicBezier: function(t, p1, cp1, cp2, p2) {\n    this.x = Util.cubicBezier(t, p1.x, cp1.x, cp2.x, p2.x);\n    this.y = Util.cubicBezier(t, p1.y, cp1.y, cp2.y, p2.y);\n  },\n  getAngle: function() {\n    var angle = Math.acos(this.x / this.magnitude());\n    if (this.y < 0) angle = Math.PI + (Math.PI - angle);\n    return angle;\n  },\n  getAngleTo: function(to) {\n    return Vector2.subtract(to, this).getAngle();\n  },\n  rotateBy: function(by) {\n    var angle = this.getAngle() + by;\n    var magnitude = this.magnitude();\n    this.x = Math.cos(angle) * magnitude;\n    this.y = Math.sin(angle) * magnitude;\n    return this;\n  },\n  rotateTo: function(angle) {\n    var angle = Util.cycleNumber(angle, Math.PI * 2);\n    var magnitude = this.magnitude();\n    this.x = Math.cos(angle) * magnitude;\n    this.y = Math.sin(angle) * magnitude;\n    return this;\n  },\n  getDistanceTo: function(to) {\n    return Vector2.subtract(this, to).magnitude();\n  },\n};\n\nVector2.subtract = function(a, b) {\n  return new Vector2().equals(a).subtract(b.x, b.y);\n};\n\nexport default Vector2;","import Util from './util';\nimport Animation from './animation';\nimport Vector2 from './vector2';\n\n// @Confetti\nvar CONFETTI_DEFAULT_CONFIG = {\n  colorChoices: ['red', 'green', 'blue', 'white'],\n  radius: 20,\n  mass: 1,\n  life: 100,\n  startPosition: new Vector2(),\n  startVelocity: new Vector2(),\n  frictionCoefficient: 0,\n};\n\nvar Confetti = function(config) {\n  this.init(config);\n};\n\nConfetti.prototype = {\n  // 1) Initialize properties and set config.\n  init: function(config) {\n    this.config = Util.objectAssign({}, CONFETTI_DEFAULT_CONFIG);\n    this.setConfig(config);\n\n    this.isAlive = true;\n\n    // Vector2\n    this.position = new Vector2().equals(this.config.startPosition);\n    this.velocity = new Vector2().equals(this.config.startVelocity);\n    this.acceleration = new Vector2();\n  },\n  // 2) Set coin config.\n  setConfig: function(config) {\n    if (typeof config === 'object') Util.objectAssign(this.config, config);\n    this.life = this.config.life;\n  },\n  applyFriction: function(frictionCoefficient) {\n    var friction = typeof frictionCoefficient === 'number' ? frictionCoefficient : this.config.frictionCoefficient;\n    if (friction !== 0) {\n      var force = new Vector2().equals(this.velocity).normalize().multiply(-friction);\n      this.applyForce(force);\n    }\n  },\n  applyForce: function(force) {\n    force.divide(this.config.mass);\n    this.acceleration.add(force);\n    return this;\n  },\n  update: function() {\n    this.life--;\n    if (this.life <= 0) this.isAlive = false;\n    this.velocity\n      .add(this.acceleration)\n      .limit(this.config.maximumSpeed);\n    this.position.add(this.velocity);\n    this.acceleration.multiply(0);\n    return this;\n  },\n  draw: function(context) {\n    context.beginPath();\n    context.arc(\n      this.position.x,\n      this.position.y,\n      this.config.radius,\n      0,\n      Math.PI * 2\n    );\n    context.fillStyle = this.config.color;\n    context.fill();\n  },\n}\n\n// @ConfettiCannon\nvar CONFETTI_CANNON_DEFAULT_CONFIG = {\n  parentElement: null,\n  resolutionMultiplier: 1,\n  zIndex: 0,\n\n  delay: 0,\n  startPosition: new Vector2(),\n  angle: Math.PI / 4,\n  blastArc: Math.PI / 6,\n\n  numberOfConfetti: 200,\n\n  onStart: function() {},\n  onFire: function() {},\n  onComplete: function() {},\n};\n\nvar ConfettiCannon = function(config) {\n  this.init(config);\n};\n\nConfettiCannon.prototype = {\n  // 1) Initialize properties and stuff.\n  init: function(config) {\n    this.config = Util.objectAssign({}, CONFETTI_CANNON_DEFAULT_CONFIG);\n    this.setConfig(config);\n\n    this.isActive = false;\n    this.confetti;\n    this.animation;\n    this.updateCount = 0;\n  },\n  // 2) Set config.\n  setConfig: function(config) {\n    if (typeof config === 'object') Util.objectAssign(this.config, config);\n    if (this.config.numberOfConfetti < 0) this.config.numberOfConfetti = 0;\n    if (this.config.resolutionMultiplier < 1) this.config.resolutionMultiplier = 1;\n    if (this.config.delay < 0) this.config.delay = 0;\n  },\n  // 3) Trigger Start.\n  fire: function() {\n    this.setup();\n    this.begin();\n  },\n  // 4) Setup target vectors, initialize coin objects, and create canvas.\n  setup: function(callback) {\n    if (this.isActive === false) {\n      this.isActive = true;\n      this.populate();\n      this.createCanvas(callback);\n    }\n  },\n  // 7) Prepare, calculate, and initialize confetti objects.\n  populate: function() {\n    this.confetti = [];\n    for (var i = 0; i < this.config.numberOfConfetti; i++) {\n      var config = this.generateConfettiConfig();\n      this.confetti.push(new Confetti(config));\n    }\n  },\n  // 8) This factory function generates config for each coin object.\n  generateConfettiConfig: function() {\n    return {\n      color: Util.randomChoice(this.config.colorChoices),\n      life: Util.modulate(Math.random(), 1, [140, 200]),\n      startPosition: new Vector2().equals(this.config.startPosition),\n      startVelocity: new Vector2(1, 1)\n        .normalize()\n        .rotateTo(this.config.angle)\n        .rotateBy(Util.modulate(Math.random(), 1, [-(this.config.blastArc / 2), this.config.blastArc / 2]))\n        .multiply(Util.modulate(Math.random(), 1, [2, 40])),\n      mass: 1,\n      radius: Util.modulate(Math.random(), 1, [2, 6]),\n    };\n  },\n  // 9) Create canvas element and calculate offset. Takes in a callback (begin method).\n  createCanvas: function() {\n    if (typeof this.canvasElement === 'undefined') {\n      this.canvasElement = document.createElement('CANVAS');\n\n      this.canvasElement.style.position = 'fixed';\n      this.canvasElement.style.zIndex = this.config.zIndex.toString();\n\n      this.canvasElement.style.left = '0px';\n      this.canvasElement.style.top  = '0px';\n\n      this.updateCanvasDimension();\n\n      this.context = this.canvasElement.getContext('2d');\n\n      if (Util.isHTMLElement(this.config.parentElement) === true)\n        this.config.parentElement.appendChild(this.canvasElement);\n    }\n  },\n  updateCanvasDimension: function() {\n    this.canvasElement.style.width  = window.innerWidth  + 'px';\n    this.canvasElement.style.height = window.innerHeight + 'px';\n    this.canvasElement.width  = window.innerWidth  * this.config.resolutionMultiplier;\n    this.canvasElement.height = window.innerHeight * this.config.resolutionMultiplier;\n  },\n  // 10) This is called once canvasElement is defined and is in the DOM. Start animation!\n  begin: function() {\n    if (this.isActive === true) {\n      this.startAnimation();\n      if (this.confetti.length === 0) this.end();\n    }\n  },\n  // 11) Initialize animation object and start it.\n  startAnimation: function() {\n    console.log('confettiCannon: startAnimation');\n    this.updateCount = 0;\n    this.config.onStart();\n    this.animation = new Animation({\n      delay: this.config.delay,\n      duration: 'infinite',\n      onStart: function() {\n        this.config.onFire()\n      }.bind(this),\n      onTick: this.update.bind(this),\n    });\n    this.animation.play();\n  },\n  // 12) Loop through each coins and draw them.\n  update: function() {\n    this.clearCanvas();\n\n    var m = this.config.resolutionMultiplier;\n    var deadConfetti = 0;\n    var gravity = new Vector2(0, this.config.gravity);\n    for (var i = 0; i < this.confetti.length; i++) {\n      if (this.confetti[i].isAlive === true) {\n        var a = Util.modulate(i, this.confetti.length, [0, 10]);\n        this.confetti[i].applyForce(\n          new Vector2(Math.cos(this.updateCount / (15 - a) + (i * 11)), 0)\n        );\n        this.confetti[i].applyForce(gravity);\n        this.confetti[i].applyFriction(0.9);\n        this.confetti[i].update();\n        this.confetti[i].draw(this.context);\n      } else {\n        deadConfetti++;\n      }\n    }\n    this.updateCount++;\n    if (deadConfetti === this.confetti.length) this.end();\n  },\n  // 13) Helper function to clear canvas every frame.\n  clearCanvas: function() {\n    this.context.clearRect(0, 0, this.canvasElement.width, this.canvasElement.height);\n  },\n  // 15) This is called after the last coin reached the end. Or if numberOfCoins is 0. Sayonara!\n  end: function() {\n    console.log('confettiCannon: end');\n    this.clearCanvas();\n    this.animation.stop();\n    this.canvasElement.remove();\n    this.canvasElement = undefined;\n    this.confetti = [];\n    this.isActive = false;\n    this.config.onComplete();\n  },\n}\n\n// Implementation.\n\nvar getElementCenterVector = function(element) {\n  var rect = element.getBoundingClientRect();\n  return new Vector2(\n    rect.left + (rect.width  / 2),\n    rect.top  + (rect.height / 2),\n  );\n};\n\nvar containerElement = document.querySelector('.container');\nvar triggerElement = document.querySelector('.triggerButton');\n\nvar confettiCannon = new ConfettiCannon({\n  parentElement: containerElement,\n  startPosition: getElementCenterVector(triggerElement),\n\n  colorChoices: ['#80EAFF', '#FF0055', '#00FFAA', '#FFFF00'],\n  numberOfConfetti: 500,\n  angle: Math.PI + Math.PI / 2,\n  blastArc: Math.PI / 2,\n\n  gravity: 1,\n\n  delay: 200,\n  onStart: function() {\n    triggerElement.classList.add('triggerButton--disabled');\n    triggerElement.textContent = 'Steady...';\n  },\n  onFire: function() {\n    triggerElement.textContent = 'Reloading...';\n  },\n  onComplete: function() {\n    triggerElement.classList.remove('triggerButton--disabled');\n    triggerElement.textContent = 'Fire!';\n  },\n});\n\ntriggerElement.addEventListener('click', function() {\n  confettiCannon.fire();\n}.bind(this));"]}